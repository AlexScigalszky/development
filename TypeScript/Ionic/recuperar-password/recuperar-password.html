<ion-header transparent>
  <ion-navbar>
  </ion-navbar>
</ion-header>


<ion-content>
  <h1 class="main-header" padding-left>Recuperar Contraseña</h1>
  <div *ngIf="loading" padding class="spinnerCenter">
    <ion-spinner name="crescent" duration="560"></ion-spinner>
  </div>
  <ion-list *ngIf="!loading">
    <form [formGroup]="restoreForm">
      <!-- email -->
      <ion-item *ngIf="requestEmail">
        <ion-label stacked>Correo Electrónico</ion-label>
        <ion-input name="email" placeholder="Correo Electrónico" formControlName="email" autocapitalize="off"></ion-input>
      </ion-item>

      <ion-item *ngIf="requestEmail">
        <button ion-button (click)="sendMail()" type="button" block round large color="grisoscuro">Enviar código de recuperación</button>
      </ion-item>

      <!-- Código de verificación -->
      <ion-item *ngIf="requestVerificationCode">
        <ion-label stacked>Código de Verificación</ion-label>
        <ion-input name="verificationCode" placeholder="Código de verificación" formControlName="verificationCode" autocapitalize="off"></ion-input>
      </ion-item>

      <ion-item *ngIf="requestVerificationCode">
        <button ion-button (click)="setVerificationCode()" type="button" block round large color="grisoscuro">Aceptar</button>
      </ion-item>

      <!-- contraseña -->
      <ion-item *ngIf="requestNewPassword">
        <ion-label stacked>Contraseña *</ion-label>
        <ion-input name="password" placeholder="Contraseña" formControlName="password" type="password" autocapitalize="off"></ion-input>
      </ion-item>

      <!-- contraseña -->
      <ion-item *ngIf="requestNewPassword">
        <ion-label stacked>Confirmar Contraseña *</ion-label>
        <ion-input name="confirmPassword" placeholder="Contraseña" formControlName="confirmPassword" type="password" autocapitalize="off"></ion-input>
      </ion-item>
      <!-- botones -->
      <ion-item *ngIf="requestNewPassword">
        <p text-wrap>* Usa 8 o más caracteres con una combinación de letras mayúsculas, minúsculas y números</p>
        <button ion-button (click)="restore()" type="button" block round large [disabled]="!restoreForm.valid" color="secondary">
          Guardar
        </button>
      </ion-item>
    </form>
  </ion-list>
</ion-content>